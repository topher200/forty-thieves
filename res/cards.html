<!DOCTYPE html>
<html>
  <head>
    <title>Cards</title>
    <link href="res/cards.css" rel="stylesheet">
  </head>
	<body>
    <!-- <div class="wrapper"> -->
    <!--   <div data-bind="foreach: foundations"> -->
    <!--     <\!-- Blank card spot -\-> -->
    <!--     <img class="card-spot pile" src="res/cards-png/b1fv.png"/> -->
    <!--     <\!-- Each card in the foundation -\-> -->
    <!--     <span data-bind="foreach: Cards"> -->
    <!--       <img class="card-spot card" data-bind="attr:{ src: 'res/cards-png/' + Suit + '-' + Face + '.png' }"/> -->
    <!--     </span> -->
    <!--   </div> -->
    <!-- </div> -->

    <p>Tables</p>

    <div class="wrapper">
      <div data-bind="foreach: tableaus">
        <div class="pile">
          <!-- Blank card spot -->
          <img class="card-spot blank-card" src="res/cards-png/b1fv.png"/>
          <!-- Each card in the tableau -->
          <span data-bind="foreach: Cards">
            <img class="card-spot card tableau"
                 data-bind="attr:{ src: $root.imageFilename($data), style: $root.tableauPosition($index()) }"
                 />
          </span>
        </div>
      </div>
    </div>

  </body>

  <script type="text/javascript" src="res/viewmodel.js"></script>
  <script type="text/javascript" src="bower_components/fallback/fallback.min.js"></script>
  <script>
    fallback.load({
      bootstrap_css: [
        "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css",
        "bower_components/bootstrap/dist/css/bootstrap.min.css"
      ],

      jQuery: [
        "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js",
        "bower_components/jquery/dist/jquery.min.js"
      ],

      ko: [
        "https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js",
        "bower_components/knockout/dist/knockout.js"
      ],

      'ko.mapping': [
        "https://cdnjs.cloudflare.com/ajax/libs/knockout.mapping/2.4.1/knockout.mapping.min.js",
        "bower_components/knockout.mapping/knockout.mapping.js"
      ],

      <!-- install bootstrap javascript -->
      'fn.modal': [
        "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js",
        "bower_components/bootstrap/dist/js/bootstrap.min.js"
      ]
    }, {
      shim: {
        'ko.mapping': ['ko'],
        <!-- Bootstrap's js requires jQuery -->
        'fn.modal': ['jQuery']
      }
    });

    fallback.ready(['ko', 'ko.mapping'], function() {
      var model = new CardGameViewModel();
      ko.applyBindings(model);
    });
  </script>
</html>
